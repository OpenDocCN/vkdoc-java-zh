# 10.版本控制

![A978-1-4842-1257-8_10_Figa_HTML.gif](A978-1-4842-1257-8_10_Figa_HTML.gif)

像 Git 这样的版本控制系统看起来像编程语言一样复杂。将 Git 集成到 NetBeans 中降低了复杂性，因此程序员和我的学生可以完成这项工作。—Ken Fogel，加拿大道森学院计算机科学技术系主任

使用版本控制系统(VCS)来共享您的项目并整合来自多个开发人员的贡献是在团队开发环境中工作的最重要的部分之一。在 NetBeans IDE 中，版本控制功能已集成到您的日常工作流程中，因此您不必一直切换到命令行或外部工具来执行更新和提交本地更改。

您可以选择仅共享您的源代码，或者共享您正在使用的完整 NetBeans 项目。当您将 NetBeans 项目(即 NetBeans 元数据)签入存储库时，在 IDE 中处理该项目的其他开发人员就不必自己设置项目了。他们只需检查项目并立即开始工作。

IDE 中的版本控制支持提供了:

*   IDE 中版本状态的显示。
*   能够在 IDE 中对文件运行版本控制命令。
*   帮助您将变更签入到存储库中并在分支之间进行合并的工具。
*   用于搜索文件版本历史和查看文件修订之间差异的高级工具。

IDE 为 Git ( [`git-scm.com`](http://git-scm.com/) )提供了最全面的支持，Git 是目前最流行、最广泛使用的版本控制系统。它对 Mercurial 和 Subversion 的支持与其对 Git 的支持不相上下，而 CVS、ClearCase 和 Perforce 都有插件。本章的重点是 Git，但是如果您使用的是 Mercurial、Subversion、CVS、ClearCase 或 Perforce，在大多数情况下这里描述的命令和设置是相似的。

Git 是一个免费的开源分布式版本控制系统，旨在快速高效地处理从小型到大型的项目。每一个 Git 克隆都是一个成熟的存储库，具有完整的历史和完整的版本跟踪功能，不依赖于网络访问或中央服务器。分支和合并既快速又容易，Git 用于文件以及文件夹和文件组的版本控制，例如 NetBeans 项目。

## 在 IDE 中设置 Git

使用 Git 中的文件不需要任何设置。不需要安装额外的插件，尽管 Git 工具栏插件在提供对常用 Git 操作的访问时非常有用: [`plugins.netbeans.org/plugin/51604/git-toolbar`](http://plugins.netbeans.org/plugin/51604/git-toolbar) 。

每当您访问 Git 存储库中的文件时，IDE 都会为文件提供完整的 Git 命令和状态显示。您可以通过右键单击项目并选择 Git 来判断目录或项目是否在 Git 工作目录中。Git 存储库中的项目还会在项目名称旁边显示一个蓝色的存储库图标。

IDE 可以帮助您完成使用 Git 库的每一步。然而，假设您已经在某个地方创建了一个实际的 Git 存储库，比如在 GitHub ( [`github.com`](https://github.com/) )。一旦您创建了一个 Git 存储库——在 GitHub 等互联网上或本地——您就可以按照下面的说明开始了。

## 初始化 Git 存储库

要从不在源代码控制中的现有文件初始化 Git 存储库，您需要转到“项目”窗口，选择一个未版本化的项目，并右键单击项目名称。在右键弹出菜单中选择版本控制➤初始化 Git 库，如图 [10-1](#Fig1) 所示。

![A978-1-4842-1257-8_10_Fig1_HTML.jpg](A978-1-4842-1257-8_10_Fig1_HTML.jpg)

图 10-1。

Initializing a Git repository

或者，在主菜单中，选择团队➤ Git ➤初始化。

指定要存储版本化文件的存储库的路径。您可以使用“初始化 Git 存储库”窗口或单击“浏览”,然后浏览所需的目录来完成此操作。

在您指定的文件夹中会创建一个`.git`子文件夹，默认情况下，该文件夹是您的 NetBeans 项目文件夹。这是您的本地 Git 存储库，其中存储了您的项目快照的所有数据。Git 开始对您指定的文件夹中的所有文件进行版本控制。您可以打开➤输出➤输出窗口，查看 IDE 在您本地工作目录下创建库的进度报告，如图 [10-2](#Fig2) 所示。

![A978-1-4842-1257-8_10_Fig2_HTML.jpg](A978-1-4842-1257-8_10_Fig2_HTML.jpg)

图 10-2。

Output window showing initialization process

所有项目文件都被标记为已添加到您的工作树中。要查看文件的状态，请将光标放在“项目”窗口中的文件名上。在工具提示中，工作树中文件的状态以绿色显示在斜杠的右侧，如图 [10-3](#Fig3) 所示。

![A978-1-4842-1257-8_10_Fig3_HTML.jpg](A978-1-4842-1257-8_10_Fig3_HTML.jpg)

图 10-3。

Versioning status in tooltip

在初始化 Git 存储库之后，您可以添加文件或者直接将它们提交给 Git 存储库。

## 克隆 Git 存储库

要获得一个已经存在的 Git 存储库的副本，比如在 GitHub 上，您需要“克隆”它。在执行帮助您在 IDE 中完成克隆存储库向导的后续步骤之前，请确保您知道 Git 存储库的 URL。

此外，在执行下一步操作时，请确保没有在 IDE 中打开版本控制项目，因为 IDE 是上下文相关的，如果当前选择了版本控制项目，IDE 将假定您要对该项目执行版本控制任务。因此，如果在“项目”窗口中未选择任何版本化项目，请从主菜单中选择“➤团队 Git ➤克隆”。克隆存储库向导打开，如图 [10-4](#Fig4) 所示。

![A978-1-4842-1257-8_10_Fig4_HTML.jpg](A978-1-4842-1257-8_10_Fig4_HTML.jpg)

图 10-4。

Clone Repository wizard

在存储库步骤中，指定 Git 存储库位置的路径、用户名和密码(如果需要，可以保存它们以备将来使用)。或者，单击代理配置以显示选项窗口并设置代理服务器设置。完成后，点按“好”。单击“下一步”转到向导的下一步。

在“远程分支”页面中，选择要提取(下载)到本地存储库的存储库分支。单击下一步。

在“目标目录”页面中，指定以下内容:

*   在“父目录”字段中，指定硬盘上用于克隆存储库的目录的路径(或者，单击“浏览”按钮并导航到该目录)。“父目录”字段中填充了默认`NetBeansProjects`目录的路径，所有 NetBeans 项目都存储在该目录中。
*   在“克隆名称”字段中，指定将在其中克隆原始项目的本地文件夹的名称。默认情况下，克隆名称由 Git 存储库名称填充。
*   在“检出分支”字段中，选择要检出到工作树中的分支。
*   在“远程名称”字段中，表示要克隆的原始存储库的名称。`origin`是正在克隆的存储库的默认别名。这是推荐值。
*   保持选中“克隆后扫描 NetBeans 项目”复选框，以便在克隆完成后立即激活后扫描。这将允许在克隆的资源中搜索 NetBeans 项目，IDE 将提供打开找到的项目。

单击完成。在 Git 存储库被克隆之后，元数据`.git`文件夹被创建在您在向导中选择的文件夹中。

## 向 Git 存储库添加文件

要开始跟踪一个新文件，并将更改转移到 Git 存储库中已经跟踪的文件，您需要将它添加到 Git 存储库中。当向 Git 存储库添加文件时，IDE 首先在索引中合成并保存项目的快照。执行提交后，IDE 会将这些快照保存在本地 Git 存储库中的文件头中。

IDE 允许您在两个工作流之间进行选择，如下所述。

*   向索引中显式添加新的或修改过的文件，然后只将那些存放在索引中的文件提交到文件头。为此，请打开“项目”窗口，右键单击要添加的文件。在上下文菜单中，选择 Git ➤添加。这将在提交文件之前将文件内容添加到索引中。在“项目”窗口中，右键单击要提交的文件。在提交窗口中，选择头和索引之间的变化切换按钮。这将显示已经转移的文件列表。提交文件，如下面的“将源代码提交到存储库”一节所述。
*   跳过向索引添加新的或修改过的文件，将所需的文件直接提交到文件头。要开始这样做，请打开“项目”窗口，右键单击要提交的文件。在上下文菜单中，选择 Git ➤提交。在提交窗口中，选择选择索引和工作树之间的更改切换按钮。这将显示未转移的文件列表。提交文件，如下面的“将源代码提交到存储库”一节所述。

文件在文件头中的状态以绿色显示在斜线的左侧，如本章前面的图 [10-3](#Fig3) 所示。

如果在文件夹上调用该操作，并且遵循 NetBeans IDE 平面文件夹内容结构，则该操作将以递归方式工作。

## 编辑文件

一旦在 IDE 中打开了 Git 版本的项目，就可以开始对源代码进行更改了。与在 NetBeans IDE 中打开的任何项目一样，当文件出现在 IDE 的窗口中时，可以通过双击其节点在源代码编辑器中打开文件，例如，“项目”(Ctrl+1)、“文件”(Ctrl+2)和“收藏夹”(Ctrl+3)窗口。

在 IDE 中处理源文件时，您可以使用各种 UI 组件来帮助查看和操作版本控制命令。现在我们将探讨这些方面——在源代码编辑器中查看更改、查看文件状态信息、比较文件修订以及恢复更改。

### 在源代码编辑器中查看更改

当您在 IDE 的源代码编辑器中打开受版本控制的文件时，您可以查看根据 Git 存储库中的基本版本修改文件时发生的实时更改。工作时，IDE 会在源代码编辑器的边距中使用颜色编码来传达以下信息:

*   蓝色:表示自早期版本以来已更改的行。
*   绿色:表示自早期版本以来添加的行。
*   红色:表示自早期版本以来已删除的行。

源代码编辑器的左边显示了逐行发生的更改。当你修改一个给定的行时，修改会立即显示在左边的空白处，如图 [10-5](#Fig5) 所示。

![A978-1-4842-1257-8_10_Fig5_HTML.jpg](A978-1-4842-1257-8_10_Fig5_HTML.jpg)

图 10-5。

Left margin shows changes

您可以单击空白处的颜色分组，以使版本控制命令可用。例如，在图 [10-6](#Fig6) 中，当点击蓝色图标时，您会看到可用的版本控制按钮，这表示行已经从您的本地副本被更改。

![A978-1-4842-1257-8_10_Fig6_HTML.jpg](A978-1-4842-1257-8_10_Fig6_HTML.jpg)

图 10-6。

Versioning commands for a color grouping

源代码编辑器的右边为您提供了一个概览，从上到下显示了对文件所做的整体更改，如图 [10-7](#Fig7) 所示。当您对文件进行更改时，会立即生成颜色编码。

![A978-1-4842-1257-8_10_Fig7_HTML.jpg](A978-1-4842-1257-8_10_Fig7_HTML.jpg)

图 10-7。

Right margin shows overview

您可以单击页边距中的特定点，将行内光标立即带到文件中的该位置。要查看受影响的行数，请将鼠标悬停在右边的彩色图标上。

### 查看文件状态信息

当您在“项目”( Ctrl+1)、“文件”( Ctrl+2)、“收藏夹”( Ctrl+3)或“版本控制”视图中工作时，IDE 提供了多种可视化功能来帮助您查看文件的状态信息。在图 [10-8](#Fig8) 中，请注意徽章(即扩展包上的蓝色图标徽章)和文件名的颜色是如何重合的，这为您提供了一种简单而有效的方法来跟踪文件的版本信息。

![A978-1-4842-1257-8_10_Fig8_HTML.jpg](A978-1-4842-1257-8_10_Fig8_HTML.jpg)

图 10-8。

Viewing file status information

再次在图 [10-8](#Fig8) 中，注意已添加或更改的文件名后的灰色草书文本。这些标签称为“文件状态标签”，如果您从主菜单中选择“查看➤”“显示版本控制标签”，它们将显示在添加或更改的文件旁边。

徽章、颜色编码、文件状态标签，以及最重要的 Git Diff Viewer，这些都有助于您在 IDE 中有效地查看和管理版本信息。

#### 徽章和颜色编码

徽章应用于项目、文件夹和包节点，并通知您该节点中包含的文件的状态。

下面的列表显示了用于徽章的配色方案。

*   蓝色标记:表示工作树中存在已被修改、添加或删除的文件。对于包，这个标记只适用于包本身，而不适用于它的子包。对于项目或文件夹，徽章表示该项目或任何包含的子文件夹中的更改。
*   红色标记:标记包含冲突文件的项目、文件夹或包。对于包，这个标记只适用于包本身，而不适用于它的子包。对于项目或文件夹，该标记指示该项目或任何包含的子文件夹中的冲突。对文件名进行颜色编码，以表明它们在存储库中的当前状态。
*   黑色:表示文件没有更改。
*   蓝色:表示文件已被本地修改。
*   绿色:表示文件已在本地添加。
*   红色:表示文件存在合并冲突。
*   灰色:表示文件被 Git 忽略，不会包含在版本控制命令中(例如，更新和提交)。如果文件有版本，则不能忽略它们。

#### 文件状态标签

IDE 可以通过“文件状态标签”显示文件的两个状态值。通过从主菜单中选择查看➤显示版本控制标签，可以打开和关闭文件状态标签。

这些是 IDE 提供的文件状态标签:

*   描述文件的工作树和索引状态之间差异的状态。
*   描述文件索引状态和当前头提交之间差异的状态。

文件状态标签提供了 ide 窗口中版本化文件状态的文本指示:

*   答:已添加
*   u:已更新但未合并
*   男:修改
*   d:删除
*   I:忽略
*   r:已重命名

IDE 在文件右侧以灰色文本显示状态(新建、修改、忽略等)和文件夹信息，如图 [10-9](#Fig9) 所示。

![A978-1-4842-1257-8_10_Fig9_HTML.jpg](A978-1-4842-1257-8_10_Fig9_HTML.jpg)

图 10-9。

File status labels

合并冲突中的文件具有未合并状态，通常用红色标注，直到文件未被您的显式操作解决。未合并文件的状态标签取决于方案(例如，A/A 未合并，两者均已添加)。

#### Git 版本视图

Git Versioning 视图为您提供了对本地工作树的选定文件夹中的文件所做的所有更改的实时列表。默认情况下，它在 IDE 的底部面板中打开，列出添加、删除或修改的文件。

要打开“版本控制”视图，请选择一个版本控制文件或文件夹(例如从“项目”、“文件”或“收藏夹”窗口中)，然后从右键菜单中选择“➤显示更改”或从主菜单中选择“➤团队显示更改”。图 [10-10](#Fig10) 所示的窗口出现在 IDE 的底部。

![A978-1-4842-1257-8_10_Fig10_HTML.jpg](A978-1-4842-1257-8_10_Fig10_HTML.jpg)

图 10-10。

Git Versioning view

默认情况下，版本控制视图显示工作树中所选包或文件夹内所有已修改文件的列表。使用工具栏中的按钮，您可以选择显示索引和文件头之间、工作树和索引之间或工作树和文件头之间有差异的文件列表。您也可以单击所列文件上方的列标题，按名称、状态或位置对文件进行排序。

版本控制视图工具栏还包括一些按钮，使您能够对列表中显示的所有文件调用最常见的 Git 任务。您可以在 Versioning 视图中访问其他 Git 命令，方法是选择一个对应于已修改文件的表格行，然后从右键菜单中选择一个命令。

### 比较文件修订

使用版本化项目时，比较文件版本是一项常见任务。IDE 允许您使用 Diff 命令来比较修订。IDE 中提供了几种比较模式——比较到磁头、比较到跟踪和比较到。

选择受版本控制的文件或文件夹(例如从“项目”、“文件”或“收藏夹”窗口中)。从主菜单中选择➤队➤队队长。在 IDE 的主窗口中，会为所选文件和修订打开一个图形化的比较查看器，如图 [10-11](#Fig11) 所示。

![A978-1-4842-1257-8_10_Fig11_HTML.jpg](A978-1-4842-1257-8_10_Fig11_HTML.jpg)

图 10-11。

Diff window

比较查看器在并排的面板中显示两个副本。更新的副本出现在右侧，因此如果您将存储库修订与您的工作树进行比较，工作树会显示在右侧面板中。比较查看器使用与其他地方相同的颜色编码来显示版本控制更改。在图 [10-11](#Fig11) 中，绿色块表示已经添加到最新版本中的内容。红色块表示早期版本中的内容已从较新版本中删除。蓝色表示突出显示的行中发生了变化。其他修订可以从比较查看器工具栏下面的比较和来源下拉列表中选择。

比较查看器工具栏还包括一些按钮，使您能够对列表中显示的所有文件调用最常见的 Git 任务。

如果在工作树中对本地副本执行比较，IDE 允许您直接从比较查看器中进行更改。为此，您可以将光标放在比较查看器的右窗格中，并相应地修改您的文件，也可以使用显示在每个突出显示的更改旁边的内嵌图标。当您在右侧滚动时，左侧编辑器将滚动，以便您可以看到在比较中所做的更改。

### 还原更改

要丢弃对工作树中选定文件所做的本地更改，并用索引或文件头中的文件替换它们，请选择一个版本化文件或文件夹(例如从“项目”、“文件”或“收藏夹”窗口中)。从主菜单中选择团队➤恢复修改。恢复修改窗口打开，如图 [10-12](#Fig12) 所示。

![A978-1-4842-1257-8_10_Fig12_HTML.jpg](A978-1-4842-1257-8_10_Fig12_HTML.jpg)

图 10-12。

Reverting changes

指定附加选项(如仅将索引中未提交的更改还原到 HEAD)。单击还原。

IDE 会用您指定的文件替换选定的文件。

## 将源代码提交给存储库

要将文件提交到 Git 存储库，请在“项目”窗口中，右键单击要提交的文件。在上下文菜单中，选择 Git ➤提交。提交窗口打开，如图 [10-13](#Fig13) 所示。

![A978-1-4842-1257-8_10_Fig13_HTML.jpg](A978-1-4842-1257-8_10_Fig13_HTML.jpg)

图 10-13。

Commit window

提交窗口包含以下字段:

*   提交消息:用于描述正在提交的更改的文本区域。
*   作者和提交者:下拉列表，让您区分谁进行了更改和谁实际提交了文件。
*   要提交的文件:列出所有修改过的文件、所有已经从工作树中删除的文件(本地)、所有新文件(Git 存储库中尚不存在的文件)以及所有已经重命名的文件。这里有两个切换按钮，用于切换实际提交的执行模式。头和索引之间的变化显示转移的文件列表。标题和工作树之间的更改显示已暂存或已修改/创建但尚未暂存的文件列表。要在此指定是否从提交中排除单个文件，请取消选中第一列“提交”中的复选框，或者右键单击“提交操作”列中的文件行，然后从弹出菜单中选择“从提交中排除”。要在此显示比较查看器，请右键单击“提交操作”列中的文件行，然后从弹出菜单中选择“比较”。
*   更新问题:用于跟踪与提交的变更相关的问题的部分。您需要安装 JIRA 或 Subversion 插件来开始在 IDE 中跟踪问题。

在提交消息文本区域中键入提交消息。或者，您可以执行以下操作:

*   单击位于右上角的“最近的消息”图标，查看并选择您以前使用过的消息列表。
*   单击位于右上角的加载模板图标，选择一个消息模板。

为单个文件指定操作后，单击提交。

IDE 将执行提交，并将您的快照存储到存储库中。IDE 的状态栏位于界面的右下角，在提交操作发生时显示。成功提交后,“项目”、“文件”和“收藏夹”窗口中的版本标记消失，已提交文件的颜色代码恢复为黑色。

## 使用分支

IDE 的 Git 支持使您能够通过使用分支来维护整个代码库的不同版本。

在 IDE 中处理分支时，可以创建、签出、合并和删除分支。在接下来的几节中，我们将研究每一个 Git 术语，并学习如何在 IDE 中执行这些操作。

### 创造

要创建本地分支，如果出于稳定或试验的目的，您想在不干扰主干的情况下使用文件系统的单独版本，请在“项目”或“文件”窗口中，从要在其中创建分支的存储库中选择一个项目或文件夹。

在主菜单中，选择团队➤分支/标签➤创建分支。另一种方法是，右键单击受版本控制的项目或文件夹，然后在弹出菜单中选择“Git ➤分支/Tag ➤创建分支”。创建分支窗口打开，如图 [10-14](#Fig14) 所示。

![A978-1-4842-1257-8_10_Fig14_HTML.jpg](A978-1-4842-1257-8_10_Fig14_HTML.jpg)

图 10-14。

Create Branch window

在分支名称字段中，输入正在创建的分支的名称。通过在“修订”字段中输入提交 ID、现有分支或标记名称，键入选定项目的特定修订，或者单击“选择”查看存储库中维护的修订列表。或者，在“选择版本”窗口中，展开分支并选择所需的分支，在相邻的列表中指定提交 ID，然后单击选择。查看特定于分支版本的提交 ID、作者和消息字段，然后单击创建。

该分支被添加到 Git 资源库的 Branches/Local 文件夹中，可以在 Git 资源库浏览器中看到，如图 [10-15](#Fig15) 所示。

![A978-1-4842-1257-8_10_Fig15_HTML.jpg](A978-1-4842-1257-8_10_Fig15_HTML.jpg)

图 10-15。

Git Repository Browser

您可以通过右键单击 Git 版本化项目并选择 Git ➤存储库➤浏览器来打开 Git 存储库浏览器。

### 退房

如果您需要编辑已经存在的分支上的文件，您可以检出该分支，将文件复制到您的工作树中。要签出修订，请从主菜单中选择团队➤签出➤签出修订。“签出所选版本”窗口打开，如图 [10-16](#Fig16) 所示。

![A978-1-4842-1257-8_10_Fig16_HTML.jpg](A978-1-4842-1257-8_10_Fig16_HTML.jpg)

图 10-16。

Checkout Selected Revision window

通过在“修订”字段中输入提交 ID、现有分支或标记名来指定所需的修订，或者单击“选择”来查看存储库中维护的修订列表。如果在上一步中没有单击选择，请跳过。在“选择修订”窗口中，展开分支并选择所需的分支，如果需要，在相邻的列表中指定提交 ID，然后单击选择。如果指定的修订引用了一个没有用分支名称标记的有效提交，那么您的头将被分离，并且您不再位于任何分支上。查看特定于所签出版本的提交 ID、作者和消息字段。要从已签出的版本创建新分支，请选择“签出为新分支”选项，并在“分支名称”字段中输入名称。单击“检出”以检出修订。

工作树和索引中的文件被更新以匹配指定修订中的版本。

### 合并

要将修改从存储库版本移植到工作树，请从主菜单中选择团队➤分支/标签➤合并版本。合并修订窗口打开，如图 [10-17](#Fig17) 所示。

![A978-1-4842-1257-8_10_Fig17_HTML.jpg](A978-1-4842-1257-8_10_Fig17_HTML.jpg)

图 10-17。

Merge Revision window

通过在“修订”字段中输入提交 ID、现有分支或标记名来指定所需的修订，或者单击“选择”来查看存储库中维护的修订列表。

如果在上一步中没有单击选择，请跳过此步骤。在“选择修订”窗口中，展开分支并选择所需的分支，如果需要，在相邻的列表中指定提交 ID，然后单击选择。单击合并。完成当前分支、工作树内容和指定分支之间的三向合并。如果发生合并冲突，冲突文件会用红色标记来表示。合并后，您仍然必须提交更改，以便将它们添加到头中。

如果自从创建特征分支以来主分支已经分叉，则将特征分支合并到主分支将创建合并提交。这是典型的合并。如果主节点没有分叉，Git 不会创建新的提交，而是将主节点指向特性分支的最新提交。这是一种“快进”。传递`--no-ff`会创建一个新的提交来表示合并，即使 Git 通常会快进。在以下网址可以找到有用的相关解释: [`365git.tumblr.com/post/504140728/fast-forward-merge`](http://365git.tumblr.com/post/504140728/fast-forward-merge) 。

### 删除

要删除不必要的本地分支，请从主菜单中选择团队➤存储库浏览器。在 Git 存储库浏览器中，选择要删除的分支。该分支必须是非活动的，也就是说，当前没有检出到工作树中。

右键单击选定的分支，并从弹出菜单中选择“删除分支”。在“删除分支”窗口中，单击“确定”确认分支删除。

该分支从本地存储库中删除，这反映在 Git 存储库浏览器中。

## 使用远程存储库

当您与其他开发人员一起工作时，您需要共享您的工作，这涉及到从 Internet 或内部网络上托管的远程存储库获取、推送和提取数据。

在接下来的几节中，我们将研究每一个 Git 术语，并学习如何在 IDE 中执行这些操作。

### 迷人的

获取从原始远程存储库中获取您还没有的更改。它永远不会改变您的任何本地分支。获取从远程存储库中获取所有分支，您可以在任何时候将它们合并到您的分支中或者进行检查。

要获取更新，首先选择团队➤远程➤获取。从远程存储库提取向导打开，如图 [10-18](#Fig18) 所示。

![A978-1-4842-1257-8_10_Fig18_HTML.jpg](A978-1-4842-1257-8_10_Fig18_HTML.jpg)

图 10-18。

Fetch from Remote Repository wizard

在向导的“远程存储库”步骤中，选择“选择已配置的 Git 存储库位置”选项(使用之前配置的存储库的路径)或“指定 Git 存储库位置”选项(定义尚未访问的远程存储库的路径、其名称、登录名、密码和代理配置，如果需要)。单击下一步。在向导的远程分支步骤中，选择要从中提取更改的分支，然后单击 Finish。

创建远程分支的本地副本。所选分支在 Git 存储库浏览器的分支➤远程目录中更新。接下来，可以将获取的更新合并到本地分支中。

### 拉

当从远程 Git 存储库中提取更新时，将从其中提取更改并合并到本地存储库的当前头中。要执行拉动，选择团队➤远程➤拉。“从远程存储库拉”向导打开，如图 [10-19](#Fig19) 所示。

![A978-1-4842-1257-8_10_Fig19_HTML.jpg](A978-1-4842-1257-8_10_Fig19_HTML.jpg)

图 10-19。

Pull from Remote Repository wizard

在向导的“远程存储库”步骤中，选择“选择已配置的 Git 存储库位置”选项(使用您之前配置的存储库的路径)或“指定 Git 存储库位置”选项(定义尚未访问的远程存储库的路径、其名称以及登录名和密码，如果需要)。单击下一步。在向导的“远程分支”页面中，选择将从中提取更改的分支，然后单击“完成”。

您的本地存储库与原始存储库同步。

### 推

当您要将您的提交推送到一个存储库中时，同时可能已经推送了一些其他的变更，您需要首先拉取并合并那些变更。

要将本地 Git 存储库中的更改贡献给公共 Git 存储库，请选择 Team ➤远程➤推送。Push to Remote Repository 向导打开，如图 [10-20](#Fig20) 所示。

![A978-1-4842-1257-8_10_Fig20_HTML.jpg](A978-1-4842-1257-8_10_Fig20_HTML.jpg)

图 10-20。

Push to Remote Repository wizard

在向导的“远程存储库”步骤中，选择“选择已配置的 Git 存储库位置”选项(使用您之前配置的存储库的路径)或“指定 Git 存储库位置”选项(定义尚未访问的远程存储库的路径、其名称以及登录名和密码，如果需要)。单击下一步。在“选择本地分支”页面中，选择要将编辑内容推送至的分支，然后单击“下一步”。在“更新本地引用”页面中，选择要在本地存储库的 Remotes 目录中更新的分支。单击完成。

指定的远程资料库分支将使用本地分支的最新状态进行更新。